<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CompliTrst™ Partner Program Application</title>
    <!-- Load Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc;
        }
        .container {
            max-width: 1200px;
        }
        .header-bg {
            background-color: #0d47a1; /* Darker blue */
        }
        .btn-primary {
            background-color: #1e88e5; /* Standard blue */
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #0b5993;
        }
        .form-section {
            display: none; /* Initially hide the form section */
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .form-section.show {
            display: block;
            opacity: 1;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding: 0 1.5rem;
        }
        .faq-answer.show {
            max-height: 500px; /* Adjust height based on content */
            padding: 1rem 1.5rem;
        }
        #success {
            display: none;
            padding: 3rem;
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            color: #1b5e20;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header / Hero Section -->
    <header class="header-bg text-white py-16 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl sm:text-5xl font-extrabold mb-4">CompliTrst™ Partner Program</h1>
            <p class="text-xl sm:text-2xl mb-8 font-light">Join our network and empower businesses with seamless compliance.</p>
            <a href="#application-form" class="btn-primary text-white font-bold py-3 px-8 rounded-full shadow-xl hover:shadow-2xl transition duration-300 transform hover:scale-105" id="apply-now-btn">
                Apply Now
            </a>
        </div>
    </header>

    <!-- Value Proposition Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Why Partner with CompliTrst™?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <!-- Card 1 -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-md transition duration-300 hover:shadow-lg">
                    <svg class="w-12 h-12 text-blue-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.69C17.176 19.29 21 14.591 21 9c0-1.85-.357-3.6-1.03-5.184z"></path></svg>
                    <h3 class="text-xl font-semibold mb-2">Exclusive Tools</h3>
                    <p class="text-gray-600">Gain access to proprietary compliance platforms and resources.</p>
                </div>
                <!-- Card 2 -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-md transition duration-300 hover:shadow-lg">
                    <svg class="w-12 h-12 text-blue-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    <h3 class="text-xl font-semibold mb-2">High Commission</h3>
                    <p class="text-gray-600">Benefit from a generous commission structure on every successful referral.</p>
                </div>
                <!-- Card 3 -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-md transition duration-300 hover:shadow-lg">
                    <svg class="w-12 h-12 text-blue-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.477 3-9s-1.343-9-3-9m0 18v-8m0 0v-2"></path></svg>
                    <h3 class="text-xl font-semibold mb-2">Global Impact</h3>
                    <p class="text-gray-600">Help clients worldwide navigate complex regulatory landscapes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Application Form Section -->
    <section id="application-form" class="py-16 bg-gray-100 min-h-screen">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-10">Partner Program Application</h2>
            
            <!-- Success Message (Initially Hidden) -->
            <div id="success" class="text-center rounded-xl shadow-xl mx-auto max-w-lg">
                <h3 class="text-2xl font-bold mb-4 text-green-700">Application Submitted Successfully!</h3>
                <p>Thank you for your interest in the CompliTrst™ Partner Program. We will review your application and be in touch soon.</p>
            </div>

            <!-- Form Container -->
            <div class="form-section mx-auto max-w-lg bg-white p-8 rounded-xl shadow-2xl">
                <form id="partnerForm" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSeURKuPuaPNBDzQM7CQ9KusEqtYT_6nvhPixUzBy3antec4uA/formResponse" method="POST">
                    
                    <div class="field-group mb-6">
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" name="entry.1207865243" id="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="field-group mb-6">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Work Email</label>
                        <input type="email" name="entry.100032993" id="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="field-group mb-6">
                        <label for="company" class="block text-sm font-medium text-gray-700 mb-1">Company/Organization Name</label>
                        <input type="text" name="entry.2064956799" id="company" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="field-group mb-6">
                        <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Your Role/Title</label>
                        <input type="text" name="entry.202573229" id="role" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="field-group mb-6">
                        <label for="reason" class="block text-sm font-medium text-gray-700 mb-1">Why are you interested in partnering?</label>
                        <textarea name="entry.1706240228" id="reason" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"></textarea>
                    </div>

                    <!-- FIXED AGREEMENT FIELD HTML -->
                    <div class="field-group mb-6">
                        <div class="flex items-center">
                            <!-- VISIBLE UI ELEMENT: The checkbox the user clicks -->
                            <input type="checkbox" id="user_agreement_check" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-2">
                            <label for="user_agreement_check" class="text-sm font-medium text-gray-700 select-none">
                                I have read and agree to the CompliTrst™ Partner Program Terms & Conditions.
                            </label>
                        </div>
                        
                        <!-- HIDDEN INPUT FIELD: This sends the value to the Google Form -->
                        <!-- name="entry.1003817501" is the ID for the agreement question -->
                        <input type="hidden" name="entry.1003817501" id="hidden_agreement_input" value="" required>
                    </div>
                    <!-- END FIXED AGREEMENT FIELD HTML -->


                    <button type="submit" class="btn-primary w-full text-white font-bold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        Submit Application
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-10">Frequently Asked Questions</h2>
            <div class="max-w-3xl mx-auto">
                <!-- FAQ Item 1 -->
                <div class="border-b border-gray-200 py-4">
                    <div class="faq-question flex justify-between items-center cursor-pointer p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition duration-150">
                        <h3 class="text-lg font-semibold text-gray-800">What are the commission rates?</h3>
                        <span class="faq-icon text-xl font-bold text-blue-600">+</span>
                    </div>
                    <div class="faq-answer text-gray-600">
                        <p>Our commission rates are competitive and vary based on the service tier your referral signs up for. You will receive detailed information upon acceptance into the program.</p>
                    </div>
                </div>
                <!-- FAQ Item 2 -->
                <div class="border-b border-gray-200 py-4">
                    <div class="faq-question flex justify-between items-center cursor-pointer p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition duration-150">
                        <h3 class="text-lg font-semibold text-gray-800">Is there a cost to join?</h3>
                        <span class="faq-icon text-xl font-bold text-blue-600">+</span>
                    </div>
                    <div class="faq-answer text-gray-600">
                        <p>No, there is absolutely no cost to join the CompliTrst™ Partner Program. We provide all necessary training and tools free of charge.</p>
                    </div>
                </div>
                <!-- FAQ Item 3 -->
                <div class="border-b border-gray-200 py-4">
                    <div class="faq-question flex justify-between items-center cursor-pointer p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition duration-150">
                        <h3 class="text-lg font-semibold text-gray-800">How long does the application process take?</h3>
                        <span class="faq-icon text-xl font-bold text-blue-600">+</span>
                    </div>
                    <div class="faq-answer text-gray-600">
                        <p>We typically review and respond to all applications within 3-5 business days. You will be notified via email regarding the status of your submission.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="header-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 CompliTrst™. All rights reserved. | <a href="#" class="underline hover:text-gray-300">Privacy Policy</a></p>
        </div>
    </footer>


    <script>
        // --- 1. AGREEMENT CHECKBOX LOGIC ---
        const visibleCheckbox = document.getElementById('user_agreement_check');
        const hiddenInput = document.getElementById('hidden_agreement_input');

        if (visibleCheckbox && hiddenInput) {
            visibleCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    // Set value to "I agree" for Google Form entry.1003817501
                    hiddenInput.value = "I agree";
                    hiddenInput.removeAttribute('required'); 
                } else {
                    // Clear value and ensure validation prevents submission if unchecked
                    hiddenInput.value = "";
                    hiddenInput.setAttribute('required', 'required');
                }
            });
            
            // Initial check
            if (!visibleCheckbox.checked) {
                hiddenInput.setAttribute('required', 'required');
            }
        }

        // --- 2. SMOOTH SCROLL & APPLY NOW BUTTON FIX ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const href = this.getAttribute('href');
                const target = document.querySelector(href);

                if (target) {
                    // [DEBUG] Log click action
                    console.log('[DEBUG] Anchor link clicked. Scrolling to: ' + href);
                    
                    // FIX: If the link is the 'Apply Now' button, make the form section visible immediately.
                    if (href === '#application-form') {
                        const formSection = document.querySelector('.form-section');
                        if (formSection) {
                            // Guaranteed way to make it visible
                            formSection.style.display = 'block'; 
                            formSection.classList.add('show');
                        }
                    }
                    
                    // Scroll smoothly to the target element.
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // --- 3. FAQ ACCORDION LOGIC ---
        document.querySelectorAll('.faq-question').forEach(function(question) {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                const icon = this.querySelector('.faq-icon');
                const isOpen = answer.classList.contains('show');
                
                // Close all FAQs
                document.querySelectorAll('.faq-answer').forEach(function(a) {
                    a.classList.remove('show');
                });
                document.querySelectorAll('.faq-icon').forEach(function(i) {
                    i.textContent = '+';
                });
                
                // Open clicked FAQ if it was closed
                if (!isOpen) {
                    answer.classList.add('show');
                    icon.textContent = '−';
                }
            });
        });

        // --- 4. FORM SUBMISSION WITH AJAX (Your Existing Logic) ---
        const partnerForm = document.getElementById('partnerForm');
        if (partnerForm) {
            partnerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                var formData = new FormData(this);
                
                // DEBUG: Log what's being captured - Check this in the console!
                console.log('Form data being sent:');
                for (var pair of formData.entries()) {
                    console.log(pair[0] + ': ' + pair[1]);
                }
                
                var submitButton = this.querySelector('button[type="submit"]');
                
                // Disable button and show loading state
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';
                submitButton.style.opacity = '0.6';
                
                // Submit via fetch
                fetch(this.action, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                }).then(function() {
                    // Show success message
                    document.getElementById('partnerForm').style.display = 'none';
                    document.getElementById('success').style.display = 'block';
                    window.scrollTo({
                        top: document.getElementById('success').offsetTop - 100,
                        behavior: 'smooth'
                    });
                }).catch(function() {
                    // Handle "error" by showing success (standard practice for Google Forms CORS)
                    document.getElementById('partnerForm').style.display = 'none';
                    document.getElementById('success').style.display = 'block';
                    window.scrollTo({
                        top: document.getElementById('success').offsetTop - 100,
                        behavior: 'smooth'
                    });
                });
            });
        }
    </script>

</body>
</html>
